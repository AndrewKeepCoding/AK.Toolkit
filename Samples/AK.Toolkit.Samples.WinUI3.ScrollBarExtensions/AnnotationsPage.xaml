<Page
    x:Class="AK.Toolkit.Samples.WinUI3.ScrollBarExtensions.AnnotationsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:AK.Toolkit.Samples.WinUI3.ScrollBarExtensions"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="using:AK.Toolkit.WinUI3"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    mc:Ignorable="d">

    <Grid
        Grid.Column="1"
        Margin="10"
        ColumnDefinitions="*,Auto"
        ColumnSpacing="30"
        RowDefinitions="Auto,*">
        <TextBlock
            Grid.Row="0"
            Grid.Column="0"
            Style="{StaticResource TitleTextBlockStyle}"
            Text="DataGrid" />
        <controls:DataGrid
            Grid.Row="1"
            Grid.Column="0"
            toolkit:ScrollBarExtensions.KeepVerticalExpanded="True"
            toolkit:ScrollBarExtensions.VerticalAnnotations="{x:Bind Annotations, Mode=OneWay}"
            AutoGenerateColumns="False"
            ItemsSource="{x:Bind Users}">
            <controls:DataGrid.Columns>
                <controls:DataGridTextColumn Binding="{Binding Id}" Header="ID" />
                <controls:DataGridTextColumn Binding="{Binding FirstName}" Header="First Name" />
                <controls:DataGridTextColumn Binding="{Binding LastName}" Header="Last Name" />
                <controls:DataGridTextColumn Binding="{Binding Address}" Header="Address" />
            </controls:DataGrid.Columns>
        </controls:DataGrid>

        <StackPanel
            Grid.Row="1"
            Grid.Column="1"
            MinWidth="200"
            Spacing="8">

            <TextBlock Text="Annotations" />
            <ItemsControl ItemsSource="{x:Bind AnnotationSettingsList}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate x:DataType="local:AnnotationSettings">
                        <TextBox TextChanged="AnnotationSettingsTextBox_TextChanged">
                            <TextBox.Header>
                                <TextBlock Foreground="{x:Bind local:AnnotationsPage.ToBrush(Color)}" Text="{x:Bind Name}" />
                            </TextBox.Header>
                        </TextBox>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <StackPanel>
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0" Text="Height" />
                    <TextBlock Grid.Column="1" Text="{x:Bind local:AnnotationsPage.ToString(AnnotationHeightSlider.Value, 0), Mode=OneWay}" />
                </Grid>
                <Slider
                    x:Name="AnnotationHeightSlider"
                    Maximum="16"
                    Minimum="1"
                    SnapsTo="StepValues"
                    StepFrequency="1"
                    ValueChanged="AnnotationHeightSlider_ValueChanged" />
            </StackPanel>

            <StackPanel>
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0" Text="Opacity" />
                    <TextBlock Grid.Column="1" Text="{x:Bind local:AnnotationsPage.ToString(AnnotationOpacitySlider.Value, 1), Mode=OneWay}" />
                </Grid>
                <Slider
                    x:Name="AnnotationOpacitySlider"
                    Maximum="1"
                    Minimum="0.1"
                    SnapsTo="StepValues"
                    StepFrequency="0.1"
                    ValueChanged="AnnotationOpacitySlider_ValueChanged" />
            </StackPanel>

        </StackPanel>
    </Grid>

</Page>
